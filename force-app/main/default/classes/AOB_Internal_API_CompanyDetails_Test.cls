/**
 * @description  company details outbound webservice API test class
 *
 * @see AOB_Internal_API_CompanyDetails
 *
 * @author Tukelo Moseamo
 * 
 * @story SFP-25088
 * 
 * @date July 2023
 * * Modifications Log
* Ver   Date         Author           Modification
* 1.0   05-19-2023   Tukelo Moseamo   SFP - 25088
 */
@IsTest
public class AOB_Internal_API_CompanyDetails_Test {
 
    /**
    * @description Test method for AOB_CTRL_FormCreator.updateCompanyDetails 
    */
    @IsTest
    public static void updateCompanyDetailsTest()
    {
        try{
            String json='{"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"PreApplicationResponse":{"businessBPGUID":"4989261e-a6c2-1edd-afeb-55305e2d2c93","businessBPID":"535696880","businessRegisteredName":"PB Warehouse","digitalOfferId":"0045399315","inflightCustomerDataId":"0600048253","initiatorBPGUID":"4553bab6-c72d-0105-0000-00000ab6f567","initiatorBPID":"0372501069","initiatorDigitalID":null,"processId":"1690430"},"Marketing consent Internal":{"consentForCrossBorderSharing":"true","consentForSharing":"true","consentForMarketing":"true"},"Company Trading Address":{"PostalCode":"1256","PROVINCE":"ZAF.GP","city":"Johannesburg","SUBURB":"Boksburg","Complex":"Block 5","UnitNumber":"400","StreetName":"16 Dior Street","AddressType":"Different"},"Residential Address":{"Street":"100 Park Road","UnitNumber":"300","Complexe":"Block 2","suburb":"Sandton","city":"Johannesburg","province":"ZAF.GP","PostalCode":"1263"},"Employment Details":{"TaxResident":"false","jobTitle":"20","INDUSTRY":"06","Employed":"true"},"Company Financial Details":{"taxInputs":{"firstTaxNumber":"45678899","firstCountry":"AL1"},"taxCountries":true,"FOREIGN TAX RESIDENCY":"true","MoreLessClassif":"true","ENTITY CLASSIFICATION":"NFI"},"Company Details":{"INDUSTRY CLASSIFICATION":"01403","PREFERRED BRANCH":"2750","NATURE OF THE BUSINESS":"25","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0832597396","COUNTRY OF REGISTRATION":"ZA"},"customer":{"authorizationGroup":"SBSA","contacts":[{"contactPeriod":"03","contactPeriodX":"ANYTIME","countryCode":"ZA","endDate":"9999-12-31","obsoleteInd":"false","phoneType":"1","preferredInd":"true","startDate":"2023-02-07","type":"PHONE","value":"0121212121"}],"customer_type":"2","customer_typeX":"ENTERPRISE","customerRole":[{"endDate":"9999-12-31","role":"BUP002","roleX":"PROSPECT","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"CRM000","roleX":"SOLD TO PARTY","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"BUP014","roleX":"CUSTOMER","startDate":"2023-02-07"}],"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"identifications":[{"expirationDate":"9999-12-31","issuedDate":"2023-02-07","issuingCountry":"ZA","number_Z":null,"type":"11","typeX":"ENTERPRISE IDENTITY NUMBER"}],"lastUpdateDt":"2023-06-26","marketingConsents":[{"consentCode":"27","consentCodeX":"STAFF ATTESTATION","consentStatus":"true"},{"consentCode":"07","consentCodeX":"IDENTITY & FRAUD CHECK","consentStatus":"true"},{"consentCode":"01","consentCodeX":"EXTERNAL MARKETING","consentStatus":"false"},{"consentCode":"02","consentCodeX":"MARKETING RESEARCH","consentStatus":"false"},{"consentCode":"03","consentCodeX":"RECEIVE MARKETING","consentStatus":"false"},{"consentCode":"04","consentCodeX":"SHARE CUSTOMER DATA","consentStatus":"false"},{"consentCode":"23","consentCodeX":"CROSS BORDER SHARING","consentStatus":"false"}],"mktgSegment":"400","mktgSegmentX":"ENTERPRISE","orgDetails":{"companyName":null,"legalForm":"006","legalFormX":"SOLE PROPRIETORSHIP","legalName":"ORANGE ONE"},"personDetails":null,"prefLanguage":"EN","statuses":[{"desc_Z":null,"effDate":"2023-02-07","expDate":"9999-12-31","status":"97"}],"uuid":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f"},"getApplicationProcessDataResponse":{"businessDetails":{"beeCode":"","businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":0,"businessType":"ZFS002","cellPhone":"","countryOfRegistration":"ZA","email":"","entityClassification":"","fiscalMonthEnd":"","idType":"","industryClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"marketingConsent":[{"consentCode":"","consentStatus":false}],"natureOfBusiness":"","prefferedBranch":"","soleShareholdingInd":false,"sourceOfFunds":[{"currency_z":null,"sourceFundAmount":"","sourceFundType":""}],"taxNumber":[{"reasonNoTaxNum":"","taxNumber":"","taxType":""}]},"directorDetails":[{"assets":"0","authorizedToApply":false,"bpGuid":"4989261e-a6c2-1edd-b4db-5c3834a30352","bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":"0","directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":"","country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":"0","identificationCountryCode":"","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":"0","loggedInUser":false,"mainApplicant":false,"nationality":"","pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":"0"}],"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"49e319d7-1718-4a02-b34a-8723cbb386c7","errorResponse":null,"instanceId":"1861527","requestTimeStamp":"2023-06-26","respondToAddress":"","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"preApplicationResponse":{"applicationResponseDetails":{"digitalOfferID":"0045412082","maintenanceOfferID":"0600050310","processExpiryDate":"2023-07-03","processID":""},"cipcRegisteredDetails":{"businessDetails":{"businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":"3000000","businessType":"SOLE PROPRIETORSHIP","entityClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"soleShareholdingInd":false},"directorDetails":[{"assets":null,"authorizedToApply":true,"bpGuid":null,"bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":null,"directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":null,"country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":null,"identificationCountryCode":"ZA","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":null,"loggedInUser":true,"mainApplicant":true,"nationality":null,"pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"ACTIVE","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":null}]},"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"d5db11b6-8ec8-4388-aec2-1b3a1c30ce2f","instanceId":"","requestTimeStamp":"2023-06-26","respondToAddress":"A234399","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"PreApplication":{"consentForStaffAttestation":true,"soleOwner":false,"appName":"MYMOBIZ","pricingOption":"ZMMB","productNumber":"4648","consent":true,"businessProvince":"ZAF.KZN","resBank":"052","undefined":"f","businessTurnover":"3000000","Form50":"35","businessName":"Foods","businessType":"SOLE PROPRIETORSHIP","PhoneNumber":"0712322211","EmailAddress":"test@gmail.com","IdNum":"9909098014080","Surname":"letswalo","Name":"Leratao"},"businessAOResponse":{"orchestrationHeaderResponse":{"responseTimeStamp":"2023-06-26","responseStatus":{"statusDescription":"Successful","statusCode":"200","severity":"Info","serverStatusCode":"3"},"respondToAddress":null,"requestTimeStamp":"2023-06-26","instanceId":"1861527","correlationId":"e45ffdeb-d08f-43bf-a788-e589813cf715","channelId":"SALESFORCE STAFF-ASSISTED"}},"Personal Details":{"undefined":"sou","Nationality":"ZA","PublicOfficial":"false","Related":"false"}}';
            String applicationId=AOB_DAL_TestFactory.createApplicationRecord(json);
            Test.startTest();
            AOB_Internal_SRV_CompanyDetails.updateCompanyDetails(applicationId);
            Test.stopTest();  
            System.assertNotEquals(null, applicationId, 'message');
        }catch(exception ex){
            System.assertNotEquals(null, ex.getMessage(), 'message');
        }
        
    } 
    
    
     /**
    * @description Test method for AOB_CTRL_FormCreator.updateCompanyDetails 
    */
    @IsTest
    public static void updateCompanyDetailsNegTest()
    {
        try{
            String json='{"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"PreApplicationResponse":{"businessBPGUID":"4989261e-a6c2-1edd-afeb-55305e2d2c93","businessBPID":"535696880","businessRegisteredName":"PB Warehouse","digitalOfferId":"0045399315","inflightCustomerDataId":"0600048253","initiatorBPGUID":"4553bab6-c72d-0105-0000-00000ab6f567","initiatorBPID":"0372501069","initiatorDigitalID":null,"processId":"1690430"},"Marketing consent Internal":{"consentForCrossBorderSharing":"true","consentForSharing":"true","consentForMarketing":"true"},"Company Trading Address":{"PostalCode":"1256","PROVINCE":"ZAF.GP","city":"Johannesburg","SUBURB":"Boksburg","Complex":"Block 5","UnitNumber":"400","StreetName":"16 Dior Street","AddressType":"Different"},"Residential Address":{"Street":"100 Park Road","UnitNumber":"300","Complexe":"Block 2","suburb":"Sandton","city":"Johannesburg","province":"ZAF.GP","PostalCode":"1263"},"Employment Details":{"TaxResident":"false","jobTitle":"20","INDUSTRY":"06","Employed":"true"},"Company Financial Details":{"taxInputs":{"firstTaxNumber":"45678899","firstCountry":"AL1"},"taxCountries":true,"FOREIGN TAX RESIDENCY":"true","MoreLessClassif":"true","ENTITY CLASSIFICATION":"NFI"},"Company Details":{"INDUSTRY CLASSIFICATION":"01403","PREFERRED BRANCH":"2750","NATURE OF THE BUSINESS":"25","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0832597396","COUNTRY OF REGISTRATION":"ZA"},"customer":{"authorizationGroup":"SBSA","contacts":[{"contactPeriod":"03","contactPeriodX":"ANYTIME","countryCode":"ZA","endDate":"9999-12-31","obsoleteInd":"false","phoneType":"1","preferredInd":"true","startDate":"2023-02-07","type":"PHONE","value":"0121212121"}],"customer_type":"2","customer_typeX":"ENTERPRISE","customerRole":[{"endDate":"9999-12-31","role":"BUP002","roleX":"PROSPECT","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"CRM000","roleX":"SOLD TO PARTY","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"BUP014","roleX":"CUSTOMER","startDate":"2023-02-07"}],"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"identifications":[{"expirationDate":"9999-12-31","issuedDate":"2023-02-07","issuingCountry":"ZA","number_Z":null,"type":"11","typeX":"ENTERPRISE IDENTITY NUMBER"}],"lastUpdateDt":"2023-06-26","marketingConsents":[{"consentCode":"27","consentCodeX":"STAFF ATTESTATION","consentStatus":"true"},{"consentCode":"07","consentCodeX":"IDENTITY & FRAUD CHECK","consentStatus":"true"},{"consentCode":"01","consentCodeX":"EXTERNAL MARKETING","consentStatus":"false"},{"consentCode":"02","consentCodeX":"MARKETING RESEARCH","consentStatus":"false"},{"consentCode":"03","consentCodeX":"RECEIVE MARKETING","consentStatus":"false"},{"consentCode":"04","consentCodeX":"SHARE CUSTOMER DATA","consentStatus":"false"},{"consentCode":"23","consentCodeX":"CROSS BORDER SHARING","consentStatus":"false"}],"mktgSegment":"400","mktgSegmentX":"ENTERPRISE","orgDetails":{"companyName":null,"legalForm":"006","legalFormX":"SOLE PROPRIETORSHIP","legalName":"ORANGE ONE"},"personDetails":null,"prefLanguage":"EN","statuses":[{"desc_Z":null,"effDate":"2023-02-07","expDate":"9999-12-31","status":"97"}],"uuid":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f"},"getApplicationProcessDataResponse":{"businessDetails":{"beeCode":"","businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":0,"businessType":"ZFS002","cellPhone":"","countryOfRegistration":"ZA","email":"","entityClassification":"","fiscalMonthEnd":"","idType":"","industryClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"marketingConsent":[{"consentCode":"","consentStatus":false}],"natureOfBusiness":"","prefferedBranch":"","soleShareholdingInd":false,"sourceOfFunds":[{"currency_z":null,"sourceFundAmount":"","sourceFundType":""}],"taxNumber":[{"reasonNoTaxNum":"","taxNumber":"","taxType":""}]},"directorDetails":[{"assets":"0","authorizedToApply":false,"bpGuid":"4989261e-a6c2-1edd-b4db-5c3834a30352","bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":"0","directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":"","country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":"0","identificationCountryCode":"","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":"0","loggedInUser":false,"mainApplicant":false,"nationality":"","pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":"0"}],"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"49e319d7-1718-4a02-b34a-8723cbb386c7","errorResponse":null,"instanceId":"1861527","requestTimeStamp":"2023-06-26","respondToAddress":"","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"preApplicationResponse":{"applicationResponseDetails":{"digitalOfferID":"0045412082","maintenanceOfferID":"0600050310","processExpiryDate":"2023-07-03","processID":""},"cipcRegisteredDetails":{"businessDetails":{"businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":"3000000","businessType":"SOLE PROPRIETORSHIP","entityClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"soleShareholdingInd":false},"directorDetails":[{"assets":null,"authorizedToApply":true,"bpGuid":null,"bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":null,"directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":null,"country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":null,"identificationCountryCode":"ZA","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":null,"loggedInUser":true,"mainApplicant":true,"nationality":null,"pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"ACTIVE","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":null}]},"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"d5db11b6-8ec8-4388-aec2-1b3a1c30ce2f","instanceId":"","requestTimeStamp":"2023-06-26","respondToAddress":"A234399","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"PreApplication":{"consentForStaffAttestation":true,"soleOwner":false,"appName":"MYMOBIZ","pricingOption":"ZMMB","productNumber":"4648","consent":true,"businessProvince":"ZAF.KZN","resBank":"052","undefined":"f","businessTurnover":"3000000","Form50":"35","businessName":"Foods","businessType":"SOLE PROPRIETORSHIP","PhoneNumber":"0712322211","EmailAddress":"test@gmail.com","IdNum":"9909098014080","Surname":"letswalo","Name":"Leratao"},"businessAOResponse":{"orchestrationHeaderResponse":{"responseTimeStamp":"2023-06-26","responseStatus":{"statusDescription":"Successful","statusCode":"200","severity":"Info","serverStatusCode":"3"},"respondToAddress":null,"requestTimeStamp":"2023-06-26","instanceId":"1861527","correlationId":"e45ffdeb-d08f-43bf-a788-e589813cf715","channelId":"SALESFORCE STAFF-ASSISTED"}},"Personal Details":{"undefined":"sou","Nationality":"ZA","PublicOfficial":"false","Related":"false"}}';
            String applicationId=AOB_DAL_TestFactory.createApplicationRecord(json);
            Test.startTest();
            AOB_Internal_SRV_CompanyDetails.updateCompanyDetails('');
            Test.stopTest();  
            System.assertNotEquals(null, applicationId, 'message');
        }catch(exception ex){
            System.assertNotEquals(null, ex.getMessage(), 'message');
        }
        
    } 
    
    
       /**
    * @description Test method for AOB_CTRL_FormCreator.updateCompanyDetails 
    */
    @IsTest
    public static void companyDetailsApplicationTest()
    {
        String json='{"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"PreApplicationResponse":{"businessBPGUID":"4989261e-a6c2-1edd-afeb-55305e2d2c93","businessBPID":"535696880","businessRegisteredName":"PB Warehouse","digitalOfferId":"0045399315","inflightCustomerDataId":"0600048253","initiatorBPGUID":"4553bab6-c72d-0105-0000-00000ab6f567","initiatorBPID":"0372501069","initiatorDigitalID":null,"processId":"1690430"},"Marketing consent Internal":{"consentForCrossBorderSharing":"true","consentForSharing":"true","consentForMarketing":"true"},"Company Trading Address":{"PostalCode":"1256","PROVINCE":"ZAF.GP","city":"Johannesburg","SUBURB":"Boksburg","Complex":"Block 5","UnitNumber":"400","StreetName":"16 Dior Street","AddressType":"Different"},"Residential Address":{"Street":"100 Park Road","UnitNumber":"300","Complexe":"Block 2","suburb":"Sandton","city":"Johannesburg","province":"ZAF.GP","PostalCode":"1263"},"Employment Details":{"TaxResident":"false","jobTitle":"20","INDUSTRY":"06","Employed":"true"},"Company Financial Details":{"taxInputs":{"firstTaxNumber":"45678899","firstCountry":"AL1"},"taxCountries":true,"FOREIGN TAX RESIDENCY":"true","MoreLessClassif":"true","ENTITY CLASSIFICATION":"NFI"},"Company Details":{"INDUSTRY CLASSIFICATION":"01403","PREFERRED BRANCH":"2750","NATURE OF THE BUSINESS":"25","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0832597396","COUNTRY OF REGISTRATION":"ZA"},"customer":{"authorizationGroup":"SBSA","contacts":[{"contactPeriod":"03","contactPeriodX":"ANYTIME","countryCode":"ZA","endDate":"9999-12-31","obsoleteInd":"false","phoneType":"1","preferredInd":"true","startDate":"2023-02-07","type":"PHONE","value":"0121212121"}],"customer_type":"2","customer_typeX":"ENTERPRISE","customerRole":[{"endDate":"9999-12-31","role":"BUP002","roleX":"PROSPECT","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"CRM000","roleX":"SOLD TO PARTY","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"BUP014","roleX":"CUSTOMER","startDate":"2023-02-07"}],"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"identifications":[{"expirationDate":"9999-12-31","issuedDate":"2023-02-07","issuingCountry":"ZA","number_Z":null,"type":"11","typeX":"ENTERPRISE IDENTITY NUMBER"}],"lastUpdateDt":"2023-06-26","marketingConsents":[{"consentCode":"27","consentCodeX":"STAFF ATTESTATION","consentStatus":"true"},{"consentCode":"07","consentCodeX":"IDENTITY & FRAUD CHECK","consentStatus":"true"},{"consentCode":"01","consentCodeX":"EXTERNAL MARKETING","consentStatus":"false"},{"consentCode":"02","consentCodeX":"MARKETING RESEARCH","consentStatus":"false"},{"consentCode":"03","consentCodeX":"RECEIVE MARKETING","consentStatus":"false"},{"consentCode":"04","consentCodeX":"SHARE CUSTOMER DATA","consentStatus":"false"},{"consentCode":"23","consentCodeX":"CROSS BORDER SHARING","consentStatus":"false"}],"mktgSegment":"400","mktgSegmentX":"ENTERPRISE","orgDetails":{"companyName":null,"legalForm":"006","legalFormX":"SOLE PROPRIETORSHIP","legalName":"ORANGE ONE"},"personDetails":null,"prefLanguage":"EN","statuses":[{"desc_Z":null,"effDate":"2023-02-07","expDate":"9999-12-31","status":"97"}],"uuid":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f"},"getApplicationProcessDataResponse":{"businessDetails":{"beeCode":"","businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":0,"businessType":"ZFS002","cellPhone":"","countryOfRegistration":"ZA","email":"","entityClassification":"","fiscalMonthEnd":"","idType":"","industryClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"marketingConsent":[{"consentCode":"","consentStatus":false}],"natureOfBusiness":"","prefferedBranch":"","soleShareholdingInd":false,"sourceOfFunds":[{"currency_z":null,"sourceFundAmount":"","sourceFundType":""}],"taxNumber":[{"reasonNoTaxNum":"","taxNumber":"","taxType":""}]},"directorDetails":[{"assets":"0","authorizedToApply":false,"bpGuid":"4989261e-a6c2-1edd-b4db-5c3834a30352","bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":"0","directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":"","country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":"0","identificationCountryCode":"","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":"0","loggedInUser":false,"mainApplicant":false,"nationality":"","pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":"0"}],"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"49e319d7-1718-4a02-b34a-8723cbb386c7","errorResponse":null,"instanceId":"1861527","requestTimeStamp":"2023-06-26","respondToAddress":"","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"preApplicationResponse":{"applicationResponseDetails":{"digitalOfferID":"0045412082","maintenanceOfferID":"0600050310","processExpiryDate":"2023-07-03","processID":""},"cipcRegisteredDetails":{"businessDetails":{"businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":"3000000","businessType":"SOLE PROPRIETORSHIP","entityClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"soleShareholdingInd":false},"directorDetails":[{"assets":null,"authorizedToApply":true,"bpGuid":null,"bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":null,"directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":null,"country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":null,"identificationCountryCode":"ZA","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":null,"loggedInUser":true,"mainApplicant":true,"nationality":null,"pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"ACTIVE","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":null}]},"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"d5db11b6-8ec8-4388-aec2-1b3a1c30ce2f","instanceId":"","requestTimeStamp":"2023-06-26","respondToAddress":"A234399","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"PreApplication":{"consentForStaffAttestation":true,"soleOwner":false,"appName":"MYMOBIZ","pricingOption":"ZMMB","productNumber":"4648","consent":true,"businessProvince":"ZAF.KZN","resBank":"052","undefined":"f","businessTurnover":"3000000","Form50":"35","businessName":"Foods","businessType":"SOLE PROPRIETORSHIP","PhoneNumber":"0712322211","EmailAddress":"test@gmail.com","IdNum":"9909098014080","Surname":"letswalo","Name":"Leratao"},"businessAOResponse":{"orchestrationHeaderResponse":{"responseTimeStamp":"2023-06-26","responseStatus":{"statusDescription":"Successful","statusCode":"200","severity":"Info","serverStatusCode":"3"},"respondToAddress":null,"requestTimeStamp":"2023-06-26","instanceId":"1861527","correlationId":"e45ffdeb-d08f-43bf-a788-e589813cf715","channelId":"SALESFORCE STAFF-ASSISTED"}},"Personal Details":{"undefined":"sou","Nationality":"ZA","PublicOfficial":"false","Related":"false"},"PreApplicationResponse":{"businessBPGUID":"1b8728fc-9ef7-1edd-aefc-17357ac8fc7d","businessBPID":"535680206","businessRegisteredName":"NAMAKALI IMPORT AND EXPORT","digitalOfferId":"0045398424","inflightCustomerDataId":"0600048072","initiatorBPGUID":"4554ae9e-08af-00d0-0000-00000ab6f567","initiatorBPID":"0207203881","initiatorDigitalID":null,"processId":"1670244"},"ContractDoucument":[{"documentId":"10EAB586-0000-C81B-A43A-7C39C33BC2AE","documentName":"Terms and Conditions for Business Cheque Accounts","documentCode":"GENTC","itemId":"100"},{"documentId":"10EAB586-0000-CE33-9553-934EA243FFD7","documentName":"Terms and Conditions for Business Marketlink","documentCode":"COTCS","itemId":"500"},{"documentId":"B0EAB586-0000-CC14-8E0E-AB75BC6ED44F","documentName":"Contract","documentCode":"CONTR","itemId":"600"},{"documentId":"B0EAB586-0000-CA16-9F16-125FCB79D35F","documentName":"Contract","documentCode":"CONTR","itemId":"700"},{"documentId":"C0EAB586-0000-C21A-B004-E528BF44FCEE","documentName":"Mandate","documentCode":"MANDT","itemId":"0"}],"Notifications":{"depositInfo":"true","NotifiedMean":"SMS"},"Marketing Consent":{"consentForMarketing":"true","consentForSharing":"true","consentForCrossBorderSharing":"true"},"Company Trading Address":{"AddressType":"Different","StreetName":"sainagar","Complex":"parnandhi petals","city":"LINDLEY","PostalCode":"7890","UnitNumber":"999000","SUBURB":"Sea Point","PROVINCE":"ZAF.LP"},"Company Details":{"TELEPHONE  NUMBER (OPTIONAL)":"0116311776","COUNTRY OF REGISTRATION":"ZA","PREFERRED BRANCH":"2171","INDUSTRY CLASSIFICATION":"91100","NATURE OF THE BUSINESS":"16","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0694114822"},"Residential Address":{"Street":"133 raga street","UnitNumber":"1011","Complexe":"Africa Estate","city":"SOUTHBROOM","PostalCode":"1233","suburb":"Camps Bay","province":"ZAF.KZN"},"ProcessData":[{"taskName":"Capture Application Data","taskID":"7786161","status":"Received","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""},{"taskName":"Step: Await IDV Callback","taskID":"7786162","status":"Closed","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""}],"PreApplication":{"appName":"MYMOBIZ PLUS","pricingOption":"ZMBP","productNumber":"4648","consent":true,"businessName":"NAMAKALI IMPORT AND EXPORT","businessProvince":"ZAF.EC","businessTurnover":"3000000","businessRegistrationNumber":"2021/919981/07","soleShareholder":"true","businessType":"PRIVATE COMPANY","soleOwner":"true","EmailAddress":"magantimamatha@gmail.com","PhoneNumber":"0694114822","IdNum":"6506050094085","Surname":"TRIKAM","Name":"MAYA"},"Personal Details":{"SurnameRelationName":"test","RelationName":"test","RelationType":"03","Related":"true","PublicOfficial":"false","Nationality":"AL"},"Employment Details":{"taxInputs":{"secondTaxNumber":"0123456789","secondCountry":"AF2","firstTaxNumber":"0123456789","firstCountry":"AF1"},"taxCountries":true,"jobTitle":"24","INDUSTRY":"02","TaxResident":"true","Employed":"true"},"Company Financial Details":{"ENTITY CLASSIFICATION":"NFI","MoreLessClassif":"true","FOREIGN TAX RESIDENCY":"true","taxCountries":true,"taxInputs":{"secondTaxNumber":"322222","secondCountry":"AD1","firstReason":"02","firstCountry":"AL1"}},"Card Selection":{"debitCardSelected":false,"chequeCardSelected":true},"Available Bundles":{"4488":true,"ZPOB":true,"ZPSS":true}}';
        String applicationId=AOB_DAL_TestFactory.createApplicationRecord(json);
        Test.startTest();
        AOB_Internal_SRV_CompanyDetails.updateCompanyDetails(applicationId);
        Test.stopTest();  
        Assert.areNotEqual(null, applicationId, 'Test Message');
    }
    /**
    * @description Test method for AOB_CTRL_FormCreator.updateCompanyDetails 
    */
    @IsTest
    public static void companyDetailsApplicationDifferentMethodTest()
    {
        String json='{"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"PreApplicationResponse":{"businessBPGUID":"4989261e-a6c2-1edd-afeb-55305e2d2c93","businessBPID":"535696880","businessRegisteredName":"PB Warehouse","digitalOfferId":"0045399315","inflightCustomerDataId":"0600048253","initiatorBPGUID":"4553bab6-c72d-0105-0000-00000ab6f567","initiatorBPID":"0372501069","initiatorDigitalID":null,"processId":"1690430"},"Marketing consent Internal":{"consentForCrossBorderSharing":"true","consentForSharing":"true","consentForMarketing":"true"},"Company Trading Address":{"PostalCode":"1256","PROVINCE":"ZAF.GP","city":"Johannesburg","SUBURB":"Boksburg","Complex":"Block 5","UnitNumber":"400","StreetName":"16 Dior Street","AddressType":"Different"},"Residential Address":{"Street":"100 Park Road","UnitNumber":"300","Complexe":"Block 2","suburb":"Sandton","city":"Johannesburg","province":"ZAF.GP","PostalCode":"1263"},"Employment Details":{"TaxResident":"false","jobTitle":"20","INDUSTRY":"06","Employed":"true"},"Company Financial Details":{"taxInputs":{"firstTaxNumber":"45678899","firstCountry":"AL1"},"taxCountries":true,"FOREIGN TAX RESIDENCY":"true","MoreLessClassif":"true","ENTITY CLASSIFICATION":"NFI"},"Company Details":{"INDUSTRY CLASSIFICATION":"01403","PREFERRED BRANCH":"2750","NATURE OF THE BUSINESS":"25","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0832597396","COUNTRY OF REGISTRATION":"ZA"},"customer":{"authorizationGroup":"SBSA","contacts":[{"contactPeriod":"03","contactPeriodX":"ANYTIME","countryCode":"ZA","endDate":"9999-12-31","obsoleteInd":"false","phoneType":"1","preferredInd":"true","startDate":"2023-02-07","type":"PHONE","value":"0121212121"}],"customer_type":"2","customer_typeX":"ENTERPRISE","customerRole":[{"endDate":"9999-12-31","role":"BUP002","roleX":"PROSPECT","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"CRM000","roleX":"SOLD TO PARTY","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"BUP014","roleX":"CUSTOMER","startDate":"2023-02-07"}],"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"identifications":[{"expirationDate":"9999-12-31","issuedDate":"2023-02-07","issuingCountry":"ZA","number_Z":null,"type":"11","typeX":"ENTERPRISE IDENTITY NUMBER"}],"lastUpdateDt":"2023-06-26","marketingConsents":[{"consentCode":"27","consentCodeX":"STAFF ATTESTATION","consentStatus":"true"},{"consentCode":"07","consentCodeX":"IDENTITY & FRAUD CHECK","consentStatus":"true"},{"consentCode":"01","consentCodeX":"EXTERNAL MARKETING","consentStatus":"false"},{"consentCode":"02","consentCodeX":"MARKETING RESEARCH","consentStatus":"false"},{"consentCode":"03","consentCodeX":"RECEIVE MARKETING","consentStatus":"false"},{"consentCode":"04","consentCodeX":"SHARE CUSTOMER DATA","consentStatus":"false"},{"consentCode":"23","consentCodeX":"CROSS BORDER SHARING","consentStatus":"false"}],"mktgSegment":"400","mktgSegmentX":"ENTERPRISE","orgDetails":{"companyName":null,"legalForm":"006","legalFormX":"SOLE PROPRIETORSHIP","legalName":"ORANGE ONE"},"personDetails":null,"prefLanguage":"EN","statuses":[{"desc_Z":null,"effDate":"2023-02-07","expDate":"9999-12-31","status":"97"}],"uuid":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f"},"getApplicationProcessDataResponse":{"businessDetails":{"beeCode":"","businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":0,"businessType":"ZFS002","cellPhone":"","countryOfRegistration":"ZA","email":"","entityClassification":"","fiscalMonthEnd":"","idType":"","industryClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"marketingConsent":[{"consentCode":"","consentStatus":false}],"natureOfBusiness":"","prefferedBranch":"","soleShareholdingInd":false,"sourceOfFunds":[{"currency_z":null,"sourceFundAmount":"","sourceFundType":""}],"taxNumber":[{"reasonNoTaxNum":"","taxNumber":"","taxType":""}]},"directorDetails":[{"assets":"0","authorizedToApply":false,"bpGuid":"4989261e-a6c2-1edd-b4db-5c3834a30352","bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":"0","directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":"","country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":"0","identificationCountryCode":"","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":"0","loggedInUser":false,"mainApplicant":false,"nationality":"","pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":"0"}],"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"49e319d7-1718-4a02-b34a-8723cbb386c7","errorResponse":null,"instanceId":"1861527","requestTimeStamp":"2023-06-26","respondToAddress":"","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"preApplicationResponse":{"applicationResponseDetails":{"digitalOfferID":"0045412082","maintenanceOfferID":"0600050310","processExpiryDate":"2023-07-03","processID":""},"cipcRegisteredDetails":{"businessDetails":{"businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":"3000000","businessType":"SOLE PROPRIETORSHIP","entityClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"soleShareholdingInd":false},"directorDetails":[{"assets":null,"authorizedToApply":true,"bpGuid":null,"bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":null,"directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":null,"country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":null,"identificationCountryCode":"ZA","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":null,"loggedInUser":true,"mainApplicant":true,"nationality":null,"pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"ACTIVE","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":null}]},"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"d5db11b6-8ec8-4388-aec2-1b3a1c30ce2f","instanceId":"","requestTimeStamp":"2023-06-26","respondToAddress":"A234399","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"PreApplication":{"consentForStaffAttestation":true,"soleOwner":false,"appName":"MYMOBIZ","pricingOption":"ZMMB","productNumber":"4648","consent":true,"businessProvince":"ZAF.KZN","resBank":"052","undefined":"f","businessTurnover":"3000000","Form50":"35","businessName":"Foods","businessType":"SOLE PROPRIETORSHIP","PhoneNumber":"0712322211","EmailAddress":"test@gmail.com","IdNum":"9909098014080","Surname":"letswalo","Name":"Leratao"},"businessAOResponse":{"orchestrationHeaderResponse":{"responseTimeStamp":"2023-06-26","responseStatus":{"statusDescription":"Successful","statusCode":"200","severity":"Info","serverStatusCode":"3"},"respondToAddress":null,"requestTimeStamp":"2023-06-26","instanceId":"1861527","correlationId":"e45ffdeb-d08f-43bf-a788-e589813cf715","channelId":"SALESFORCE STAFF-ASSISTED"}},"Personal Details":{"undefined":"sou","Nationality":"ZA","PublicOfficial":"false","Related":"false"},"PreApplicationResponse":{"businessBPGUID":"1b8728fc-9ef7-1edd-aefc-17357ac8fc7d","businessBPID":"535680206","businessRegisteredName":"NAMAKALI IMPORT AND EXPORT","digitalOfferId":"0045398424","inflightCustomerDataId":"0600048072","initiatorBPGUID":"4554ae9e-08af-00d0-0000-00000ab6f567","initiatorBPID":"0207203881","initiatorDigitalID":null,"processId":"1670244"},"ContractDoucument":[{"documentId":"10EAB586-0000-C81B-A43A-7C39C33BC2AE","documentName":"Terms and Conditions for Business Cheque Accounts","documentCode":"GENTC","itemId":"100"},{"documentId":"10EAB586-0000-CE33-9553-934EA243FFD7","documentName":"Terms and Conditions for Business Marketlink","documentCode":"COTCS","itemId":"500"},{"documentId":"B0EAB586-0000-CC14-8E0E-AB75BC6ED44F","documentName":"Contract","documentCode":"CONTR","itemId":"600"},{"documentId":"B0EAB586-0000-CA16-9F16-125FCB79D35F","documentName":"Contract","documentCode":"CONTR","itemId":"700"},{"documentId":"C0EAB586-0000-C21A-B004-E528BF44FCEE","documentName":"Mandate","documentCode":"MANDT","itemId":"0"}],"Notifications":{"depositInfo":"true","NotifiedMean":"SMS"},"Marketing Consent":{"consentForMarketing":"true","consentForSharing":"true","consentForCrossBorderSharing":"true"},"Company Trading Address":{"AddressType":"Different","StreetName":"sainagar","Complex":"parnandhi petals","city":"LINDLEY","PostalCode":"7890","UnitNumber":"999000","SUBURB":"Sea Point","PROVINCE":"ZAF.LP"},"Company Details":{"TELEPHONE  NUMBER (OPTIONAL)":"0116311776","COUNTRY OF REGISTRATION":"ZA","PREFERRED BRANCH":"2171","INDUSTRY CLASSIFICATION":"91100","NATURE OF THE BUSINESS":"16","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0694114822"},"Residential Address":{"Street":"133 raga street","UnitNumber":"1011","Complexe":"Africa Estate","city":"SOUTHBROOM","PostalCode":"1233","suburb":"Camps Bay","province":"ZAF.KZN"},"ProcessData":[{"taskName":"Capture Application Data","taskID":"7786161","status":"Received","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""},{"taskName":"Step: Await IDV Callback","taskID":"7786162","status":"Closed","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""}],"PreApplication":{"appName":"MYMOBIZ PLUS","pricingOption":"ZMBP","productNumber":"4648","consent":true,"businessName":"NAMAKALI IMPORT AND EXPORT","businessProvince":"ZAF.EC","businessTurnover":"3000000","businessRegistrationNumber":"2021/919981/07","soleShareholder":"true","businessType":"PRIVATE COMPANY","soleOwner":"true","EmailAddress":"magantimamatha@gmail.com","PhoneNumber":"0694114822","IdNum":"6506050094085","Surname":"TRIKAM","Name":"MAYA"},"Personal Details":{"SurnameRelationName":"test","RelationName":"test","RelationType":"03","Related":"true","PublicOfficial":"false","Nationality":"AL"},"Employment Details":{"taxInputs":{"secondTaxNumber":"0123456789","secondCountry":"AF2","firstTaxNumber":"0123456789","firstCountry":"AF1"},"taxCountries":true,"jobTitle":"24","INDUSTRY":"02","TaxResident":"true","Employed":"true"},"Company Financial Details":{"ENTITY CLASSIFICATION":"NFI","MoreLessClassif":"true","FOREIGN TAX RESIDENCY":"true","taxCountries":true,"taxInputs":{"secondTaxNumber":"322222","secondCountry":"AD1","firstReason":"02","firstCountry":"AL1"}},"Card Selection":{"debitCardSelected":false,"chequeCardSelected":true},"Available Bundles":{"4488":true,"ZPOB":true,"ZPSS":true}}';
        String applicationId=AOB_DAL_TestFactory.createApplicationRecord(json);
        Test.startTest();
        AOB_Internal_SRV_CompanyDetails.updateCompanyDetails(applicationId);
        Test.stopTest();  
        Assert.areNotEqual(null, applicationId, 'Test Message');
        
    }
        /**
    * @description Test method for AOB_CTRL_FormCreator.updateCompanyDetails 
    */
    @IsTest
    public static void sameAddressMethodTest()
    {
        String json='{"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"PreApplicationResponse":{"businessBPGUID":"4989261e-a6c2-1edd-afeb-55305e2d2c93","businessBPID":"535696880","businessRegisteredName":"PB Warehouse","digitalOfferId":"0045399315","inflightCustomerDataId":"0600048253","initiatorBPGUID":"4553bab6-c72d-0105-0000-00000ab6f567","initiatorBPID":"0372501069","initiatorDigitalID":null,"processId":"1690430"},"Marketing consent Internal":{"consentForCrossBorderSharing":"true","consentForSharing":"true","consentForMarketing":"true"},"Company Trading Address":{"PostalCode":"1256","PROVINCE":"ZAF.GP","city":"Johannesburg","SUBURB":"Boksburg","Complex":"Block 5","UnitNumber":"400","StreetName":"16 Dior Street","AddressType":"Different"},"Residential Address":{"Street":"100 Park Road","UnitNumber":"300","Complexe":"Block 2","suburb":"Sandton","city":"Johannesburg","province":"ZAF.GP","PostalCode":"1263"},"Employment Details":{"TaxResident":"false","jobTitle":"20","INDUSTRY":"06","Employed":"true"},"Company Financial Details":{"taxInputs":{"firstTaxNumber":"45678899","firstCountry":"AL1"},"taxCountries":true,"FOREIGN TAX RESIDENCY":"true","MoreLessClassif":"true","ENTITY CLASSIFICATION":"NFI"},"Company Details":{"INDUSTRY CLASSIFICATION":"01403","PREFERRED BRANCH":"2750","NATURE OF THE BUSINESS":"25","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0832597396","COUNTRY OF REGISTRATION":"ZA"},"customer":{"authorizationGroup":"SBSA","contacts":[{"contactPeriod":"03","contactPeriodX":"ANYTIME","countryCode":"ZA","endDate":"9999-12-31","obsoleteInd":"false","phoneType":"1","preferredInd":"true","startDate":"2023-02-07","type":"PHONE","value":"0121212121"}],"customer_type":"2","customer_typeX":"ENTERPRISE","customerRole":[{"endDate":"9999-12-31","role":"BUP002","roleX":"PROSPECT","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"CRM000","roleX":"SOLD TO PARTY","startDate":"2023-02-07"},{"endDate":"9999-12-31","role":"BUP014","roleX":"CUSTOMER","startDate":"2023-02-07"}],"DefaultedMarketingConsents":{"consentForEmail":true,"consentForMarketingResearch":true,"consentForRecieveMarketing":true,"consentForSMS":true,"consentForStaffAttestation":true,"consentForTelleSales":true},"identifications":[{"expirationDate":"9999-12-31","issuedDate":"2023-02-07","issuingCountry":"ZA","number_Z":null,"type":"11","typeX":"ENTERPRISE IDENTITY NUMBER"}],"lastUpdateDt":"2023-06-26","marketingConsents":[{"consentCode":"27","consentCodeX":"STAFF ATTESTATION","consentStatus":"true"},{"consentCode":"07","consentCodeX":"IDENTITY & FRAUD CHECK","consentStatus":"true"},{"consentCode":"01","consentCodeX":"EXTERNAL MARKETING","consentStatus":"false"},{"consentCode":"02","consentCodeX":"MARKETING RESEARCH","consentStatus":"false"},{"consentCode":"03","consentCodeX":"RECEIVE MARKETING","consentStatus":"false"},{"consentCode":"04","consentCodeX":"SHARE CUSTOMER DATA","consentStatus":"false"},{"consentCode":"23","consentCodeX":"CROSS BORDER SHARING","consentStatus":"false"}],"mktgSegment":"400","mktgSegmentX":"ENTERPRISE","orgDetails":{"companyName":null,"legalForm":"006","legalFormX":"SOLE PROPRIETORSHIP","legalName":"ORANGE ONE"},"personDetails":null,"prefLanguage":"EN","statuses":[{"desc_Z":null,"effDate":"2023-02-07","expDate":"9999-12-31","status":"97"}],"uuid":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f"},"getApplicationProcessDataResponse":{"businessDetails":{"beeCode":"","businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":0,"businessType":"ZFS002","cellPhone":"","countryOfRegistration":"ZA","email":"","entityClassification":"","fiscalMonthEnd":"","idType":"","industryClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"marketingConsent":[{"consentCode":"","consentStatus":false}],"natureOfBusiness":"","prefferedBranch":"","soleShareholdingInd":false,"sourceOfFunds":[{"currency_z":null,"sourceFundAmount":"","sourceFundType":""}],"taxNumber":[{"reasonNoTaxNum":"","taxNumber":"","taxType":""}]},"directorDetails":[{"assets":"0","authorizedToApply":false,"bpGuid":"4989261e-a6c2-1edd-b4db-5c3834a30352","bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":"0","directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":"","country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":"0","identificationCountryCode":"","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":"0","loggedInUser":false,"mainApplicant":false,"nationality":"","pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":"0"}],"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"49e319d7-1718-4a02-b34a-8723cbb386c7","errorResponse":null,"instanceId":"1861527","requestTimeStamp":"2023-06-26","respondToAddress":"","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"preApplicationResponse":{"applicationResponseDetails":{"digitalOfferID":"0045412082","maintenanceOfferID":"0600050310","processExpiryDate":"2023-07-03","processID":""},"cipcRegisteredDetails":{"businessDetails":{"businessBPGUID":"4989261e-a6c2-1edd-a9d8-325fbffb3d0f","businessBPID":"0535577441","businessCity":"","businessName":"ORANGE ONE","businessProvince":"","businessRegistrationNumber":"9909098014080","businessStatus":"","businessTurnover":"3000000","businessType":"SOLE PROPRIETORSHIP","entityClassification":"","kycAddress":{"city":"","country":"","district":"","line1":"","line2":"","line3":"","line4":"","postalCode":"","province":""},"soleShareholdingInd":false},"directorDetails":[{"assets":null,"authorizedToApply":true,"bpGuid":null,"bpId":"0535721717","cellphoneNumber":"27782517519","citizenship":"","digitalId":null,"directorAddress":{"addressLine1":"","addressLine2":"","addressLine3":"","addressLine4":"","cityDistrict":null,"country":"","countyDistrict":"","postalCode":"","province":""},"emailAddress":"Roux.Jeremy@test.co.za","employDetails":{"industry":"","jobTitle":"","occupationStatus":""},"firstName":"Jeremy","grossMonthlyIncome":null,"identificationCountryCode":"ZA","identificationNumber":"9909098014080","identificationType":"","isInitiator":false,"lastName":"Roux","liabilities":null,"loggedInUser":true,"mainApplicant":true,"nationality":null,"pipDetails":{"publicOfficial":false,"publicOfficialRelatedDetails":{"name":"","relatedToPublicOfficial":false,"surname":"","typeOfRelationship":""}},"preferredCommunicationMethod":"","relationships":{"relationshipTypeCode":""},"status":"ACTIVE","taxDetails":{"provisionalTaxPayerInd":"","taxNumber":"","taxType":""},"totalMonthlyExpenses":null}]},"orchestrationHeaderResponse":{"channelId":"SALESFORCE STAFF-ASSISTED","correlationId":"d5db11b6-8ec8-4388-aec2-1b3a1c30ce2f","instanceId":"","requestTimeStamp":"2023-06-26","respondToAddress":"A234399","responseStatus":{"serverStatusCode":"3","severity":"Info","statusCode":"200","statusDescription":"Successful"},"responseTimeStamp":"2023-06-26"}},"PreApplication":{"consentForStaffAttestation":true,"soleOwner":false,"appName":"MYMOBIZ","pricingOption":"ZMMB","productNumber":"4648","consent":true,"businessProvince":"ZAF.KZN","resBank":"052","undefined":"f","businessTurnover":"3000000","Form50":"35","businessName":"Foods","businessType":"SOLE PROPRIETORSHIP","PhoneNumber":"0712322211","EmailAddress":"test@gmail.com","IdNum":"9909098014080","Surname":"letswalo","Name":"Leratao"},"businessAOResponse":{"orchestrationHeaderResponse":{"responseTimeStamp":"2023-06-26","responseStatus":{"statusDescription":"Successful","statusCode":"200","severity":"Info","serverStatusCode":"3"},"respondToAddress":null,"requestTimeStamp":"2023-06-26","instanceId":"1861527","correlationId":"e45ffdeb-d08f-43bf-a788-e589813cf715","channelId":"SALESFORCE STAFF-ASSISTED"}},"Personal Details":{"undefined":"sou","Nationality":"ZA","PublicOfficial":"false","Related":"false"},"PreApplicationResponse":{"businessBPGUID":"1b8728fc-9ef7-1edd-aefc-17357ac8fc7d","businessBPID":"535680206","businessRegisteredName":"NAMAKALI IMPORT AND EXPORT","digitalOfferId":"0045398424","inflightCustomerDataId":"0600048072","initiatorBPGUID":"4554ae9e-08af-00d0-0000-00000ab6f567","initiatorBPID":"0207203881","initiatorDigitalID":null,"processId":"1670244"},"ContractDoucument":[{"documentId":"10EAB586-0000-C81B-A43A-7C39C33BC2AE","documentName":"Terms and Conditions for Business Cheque Accounts","documentCode":"GENTC","itemId":"100"},{"documentId":"10EAB586-0000-CE33-9553-934EA243FFD7","documentName":"Terms and Conditions for Business Marketlink","documentCode":"COTCS","itemId":"500"},{"documentId":"B0EAB586-0000-CC14-8E0E-AB75BC6ED44F","documentName":"Contract","documentCode":"CONTR","itemId":"600"},{"documentId":"B0EAB586-0000-CA16-9F16-125FCB79D35F","documentName":"Contract","documentCode":"CONTR","itemId":"700"},{"documentId":"C0EAB586-0000-C21A-B004-E528BF44FCEE","documentName":"Mandate","documentCode":"MANDT","itemId":"0"}],"Notifications":{"depositInfo":"true","NotifiedMean":"SMS"},"Marketing Consent":{"consentForMarketing":"true","consentForSharing":"true","consentForCrossBorderSharing":"true"},"Company Trading Address":{"AddressType":"Same","StreetName":"sainagar","Complex":"parnandhi petals","city":"LINDLEY","PostalCode":"7890","UnitNumber":"999000","SUBURB":"Sea Point","PROVINCE":"ZAF.LP"},"Company Details":{"TELEPHONE  NUMBER (OPTIONAL)":"0116311776","COUNTRY OF REGISTRATION":"ZA","PREFERRED BRANCH":"2171","INDUSTRY CLASSIFICATION":"91100","NATURE OF THE BUSINESS":"16","EMAIL ADDRESS":"magantimamatha@gmail.com","CELLPHONE":"0694114822"},"Residential Address":{"Street":"133 raga street","UnitNumber":"1011","Complexe":"Africa Estate","city":"SOUTHBROOM","PostalCode":"1233","suburb":"Camps Bay","province":"ZAF.KZN"},"ProcessData":[{"taskName":"Capture Application Data","taskID":"7786161","status":"Received","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""},{"taskName":"Step: Await IDV Callback","taskID":"7786162","status":"Closed","processTaskDetail":{"wfrStatus":null,"wfrRetryAllowed":null,"wfrFailureReason":null,"ownerBPID":null,"correlationID":"ee5675d6-4076-a923-3047-414d8def3127","callBackURL":""},"parentTaskID":""}],"PreApplication":{"appName":"MYMOBIZ PLUS","pricingOption":"ZMBP","productNumber":"4648","consent":true,"businessName":"NAMAKALI IMPORT AND EXPORT","businessProvince":"ZAF.EC","businessTurnover":"3000000","businessRegistrationNumber":"2021/919981/07","soleShareholder":"true","businessType":"PRIVATE COMPANY","soleOwner":"true","EmailAddress":"magantimamatha@gmail.com","PhoneNumber":"0694114822","IdNum":"6506050094085","Surname":"TRIKAM","Name":"MAYA"},"Personal Details":{"SurnameRelationName":"test","RelationName":"test","RelationType":"03","Related":"true","PublicOfficial":"false","Nationality":"AL"},"Employment Details":{"taxInputs":{"secondTaxNumber":"0123456789","secondCountry":"AF2","firstTaxNumber":"0123456789","firstCountry":"AF1"},"taxCountries":true,"jobTitle":"24","INDUSTRY":"02","TaxResident":"true","Employed":"true"},"Company Financial Details":{"ENTITY CLASSIFICATION":"NFI","MoreLessClassif":"true","FOREIGN TAX RESIDENCY":"true","taxCountries":true,"taxInputs":{"secondTaxNumber":"322222","secondCountry":"AD1","firstReason":"02","firstCountry":"AL1"}},"Card Selection":{"debitCardSelected":false,"chequeCardSelected":true},"Available Bundles":{"4488":true,"ZPOB":true,"ZPSS":true}}';
        String applicationId=AOB_DAL_TestFactory.createApplicationRecord(json);
        Test.startTest();
        AOB_Internal_SRV_CompanyDetails.updateCompanyDetails(applicationId);
        Test.stopTest();  
        Assert.areNotEqual(null, applicationId, 'Test Message');
        
    }
  
}