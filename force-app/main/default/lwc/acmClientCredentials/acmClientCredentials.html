<template>
    <div class="container">
        <span for="Credentials" class="credentials-heading">CLIENT CREDENTIALS</span>
        <fieldset class="credentials-box">
            
            <div class="credential-field">
                <div class="credential-label">Client ID: &nbsp;&nbsp;&nbsp;{clientId} </div>
                    <button class="copy-button" onclick={copyClientId}>
                        <template lwc:if={showCopyIconClientId}>
                            <button class="copy-button">
                                <div class="button-content">
                                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                        <path d="M16 1.41699H4C2.9 1.41699 2 2.31699 2 3.41699V17.417H4V3.41699H16V1.41699ZM15 5.41699H8C6.9 5.41699 6.01 6.31699 6.01 7.41699L6 21.417C6 22.517 6.89 23.417 7.99 23.417H19C20.1 23.417 21 22.517 21 21.417V11.417L15 5.41699ZM8 21.417V7.41699H14V12.417H19V21.417H8Z" fill="#0089ff"/>
                                    </svg>
                                    <span>Copy</span>
                                </div>
                            </button>
                     </template>
                    </button>
            </div>
            <div class="credential-field">
                <div class="credential-label">Client Secret:&nbsp;&nbsp;&nbsp;{maskedSecret}</div>
                    <button class="copy-button" onclick={copyClientSecret}>
                        <template if:true={showCopyIconSecret}>
                            <button class="copy-button">
                                <div class="button-content" >
                                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                        <path d="M16 1.41699H4C2.9 1.41699 2 2.31699 2 3.41699V17.417H4V3.41699H16V1.41699ZM15 5.41699H8C6.9 5.41699 6.01 6.31699 6.01 7.41699L6 21.417C6 22.517 6.89 23.417 7.99 23.417H19C20.1 23.417 21 22.517 21 21.417V11.417L15 5.41699ZM8 21.417V7.41699H14V12.417H19V21.417H8Z" fill="#0089ff"/>
                                    </svg>
                                    <span>Copy</span>
                                </div>
                            </button>                
                        </template>
                    </button>
            </div> 
            <span lwc:if={showCopyText} style="color:green;margin:auto"><b>Copied!</b></span>
            <div class="reset-button">
                <button class="reset-button-small" onclick={openConfirmationModal}>
                    <svg class="reset-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25">
                        <path fill="#0089ff" d="M17.6517 7.1C16.2017 5.65 14.2117 4.75 12.0017 4.75C7.58172 4.75 4.01172 8.33 4.01172 12.75C4.01172 17.17 7.58172 20.75 12.0017 20.75C15.7317 20.75 18.8417 18.2 19.7317 14.75H17.6517C16.8317 17.08 14.6117 18.75 12.0017 18.75C8.69172 18.75 6.00172 16.06 6.00172 12.75C6.00172 9.44 8.69172 6.75 12.0017 6.75C13.6617 6.75 15.1417 7.44 16.2217 8.53L13.0017 11.75H20.0017V4.75L17.6517 7.1Z"/>
                    </svg>
                <span>Reset Secret</span>
                </button>
            </div>
            
        </fieldset>
        <template lwc:if={isModalOpen}>
            <div class="modal">
                <div class="modal-content">
                    <span onclick={closeModal}>
                        <img class="close-button" src='{close}'>                    
                    </span>
                    <div class="reset-modal-body">
                        <p>Are you sure you want to reset the Secret?</p>
                   </div>
                   <div class="reset-modal-footer"> 
                    <c-cmn-button variant="brand" w-class="w200" label="Confirm" onclick={resetSecret}></c-cmn-button>
                    <c-cmn-button variant="neutral" w-class="w200" label="Cancel" onclick={closeModal}></c-cmn-button>
                    </div>
                </div>
            </div>
        </template>

        <template lwc:if={isDoneModalOpen}>
                <div class="modal">
                    <div class="modal-content">
                        <span onclick={closeModal}>
                            <img class="close-button" src='{close}'>
                        </span> 
                        <div class="reset-modal-heading">
                            <p>Your Client Secret has been reset </p>
                        </div>
                        <div class="reset-modal-body">
                            <p>You have successfully reset your client secret. </p>
                        </div>
                        <div class="clientsecret-modal-field">
                            <label class="slds-form-element__label" for="text-input-id-47">Client Secret</label>
                            <div class="slds-form-element__control">
                              <input type="text" id="clientsecretfield" placeholder=""  class="slds-input" value={modalClientSecret} />
                            </div>
                        </div>
                        
                       
                        <div class="reset-modal-footer">
                            <c-cmn-button variant="brand" w-class="w200" label="COPY TO CLIPBOARD" onclick={copyClientSecret}></c-cmn-button>
                        </div>
                    </div>
                </div>
        </template>
    </div>
</template>