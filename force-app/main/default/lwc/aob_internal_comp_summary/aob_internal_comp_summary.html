<template>
    <template if:true={showSummary}>
        <div class="aob_card_container_pocketbiz slds-p-vertical_x-large slds-m-bottom_xx-large ao-border-radius">
            <img if:true={isShowingCloseButton} alt="Close button Icon" src={closeIcon}
                class="aob_modal_close_button slds-m-right_xx-small slds-m-left_large"
                onclick={handleOpenClosePageModal}>
            <c-aob_internal_comp_form-header put-title-left="true" title={label.AOB_Summary_title}
                sub-title={label.AOB_Summary_subtitle}>
            </c-aob_internal_comp_form-header>
            <c-aob_internal_comp_spinner if:false={isLoaded}></c-aob_internal_comp_spinner>
            <form autocomplete="off">
                <div class="">
                    <div class="slds-size_1-of-1 slds-p-left_xx-large slds-theme--shade slds-m-bottom_large">
                        <div class="">
                            <div class="slds-p-bottom_large">
                                <p class="slds-p-top_medium card-title">{title}</p>
                                <div class="">
                                    <template for:each={priceList} for:item="item">
                                        <div key={item.subTitle} class="">
                                            - {item.subTitle}: {item.price}</div>
                                    </template>
                                    <template for:each={percentList} for:item="item">
                                        <div key={item.subTitle} class="">
                                            - {item.subTitle}: {item.price}</div>
                                    </template>
                                    <br />
                                </div>
                                <div class="">
                                    <a onclick={mymobizterms}
                                        href={AOB_ZA_viewMymobizURL}
                                        data-id="link_content" data-intent="navigational" data-scope={adobeDataScopeApp} target="_blank"
                                        data-text={adobeDatalinkmymobiz}> {label.AOB_ZA_viewMymobiz}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <template if:true={isBusinessMarketLink}>
                        <div class="slds-size_1-of-1 slds-p-left_xx-large slds-theme--shade slds-m-bottom_large">
                            <div class="card-container">
                                <div class="slds-text-align_right slds-m-right_large slds-m-bottom_large">
                                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="" class="closeIcon"
                                        size="small" data-id="link_content" data-intent="navigational"
                                        data-scope={adobeDataScopeApp} data-text={adobeDataTextCancelbusiness}
                                        onclick={closedModalPopupbusinessmarketlink} style="margin: 14px 7px 0px 0px;">
                                    </lightning-icon>
                                    <p class="slds-p-top_medium card-title close-icon">{title1}</p>

                                </div>
                                <div class="slds-p-bottom_large">
                                    <div class="">
                                        <template for:each={priceList1} for:item="item">
                                            <div key={item.subTitle} class="">
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <template for:each={List2} for:item="item">
                                            <div key={item.subTitle} class="">
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <template for:each={percentList1} for:item="item">
                                            <div key={item.subTitle} class="">
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <br />
                                    </div>
                                    <div class="">
                                        <a href={AOB_ZA_viewMarketLinkURL}
                                            onclick={marketlinkterms} data-id="link_content" data-intent="navigational" target="_blank"
                                            data-scope={adobeDataScopeApp} data-text={adobeDatalinkmarket}>
                                            {label.AOB_ZA_viewMarketLink}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>

                <div class="container">
                    <template if:true={isPocketBiz}>
                        <div class="slds-size_1-of-1 slds-p-left_xx-large slds-theme--shade slds-m-bottom_large">
                            <div class="card-container">
                                <div class="slds-text-align_right slds-m-right_large slds-m-bottom_large">
                                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="" class="closeIcon"
                                        size="small" data-id="link_content" data-intent="navigational"
                                        data-scope={adobeDataScopeApp} data-text={adobeDataTextCancelpocketbiz}
                                        onclick={closedModalPopuppocketbiz} style="margin: 14px 7px 0px 0px;">
                                    </lightning-icon>
                                    <p class="slds-p-top_medium card-title close-icon">{title2}</p>
                                </div>
                                <div class="slds-p-bottom_large">
                                    <div class="">
                                        <template for:each={priceList2} for:item="item">
                                            <div key={item.subTitle}>
                                                - {item.subTitle}: {noOfPocketbizDevices}</div>
                                        </template>
                                        <template for:each={priceListpck} for:item="item">
                                            <div key={item.subTitle}>
                                                - {item.subTitle}: {totalPricePck}</div>
                                        </template>
                                        <template for:each={percentList2} for:item="item">
                                            <div key={item.subTitle}>
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <br />
                                    </div>
                                    <div class="">
                                        <a href={AOB_ZA_viewPocketBizURL}
                                            onclick={pocketbizterms} data-id="link_content" data-intent="navigational" target="_blank"
                                            data-scope={adobeDataScopeApp} data-text={adobeDatalinkpocketbiz}>
                                            {label.AOB_ZA_viewPocketBiz}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <template if:true={isSnapScan}>
                        <div
                            class="slds-size_1-of-1 slds-p-left_xx-large slds-theme--shade slds-m-bottom_large">
                            <div class="card-container">
                                <div class="slds-text-align_right slds-m-right_large slds-m-bottom_large">
                                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="" class="closeIcon"
                                        size="small" data-id="link_content" data-intent="navigational"
                                        data-scope={adobeDataScopeApp} data-text={adobeDataTextCancelsnapscan}
                                        onclick={closedModalPopupsnapscan} style="margin: 14px 7px 0px 0px;">
                                    </lightning-icon>
                                    <p class="slds-p-top_medium card-title close-icon">{title3}</p>
                                </div>
                                <div class="slds-p-bottom_large">
                                    <div class="">
                                        <template for:each={priceList3} for:item="item">
                                            <div key={item.subTitle}>
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <template for:each={percentList3} for:item="item">
                                            <div key={item.subTitle}>
                                                - {item.subTitle}: {item.price}</div>
                                        </template>
                                        <br />
                                    </div>
                                    <div class="">
                                        <a href={AOB_ZA_viewSnapscanURL}
                                            onclick={snapscanterms} data-id="link_content" data-intent="navigational" target="_blank"
                                            data-scope={adobeDataScopeApp} data-text={adobeDatalinkssnapscan}>
                                            {label.AOB_ZA_viewSnapscan}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
                <!--Navigation Buttons-->
                <div class="slds-theme--shade button-container">
                    <lightning-button
                        class=""
                        data-id="link_content" data-intent="navigational" data-scope={adobeDataScopeApp}
                        data-text={adobeDataTextBack} variant="neutral" label="Back" title="Back"
                        onclick={backToPreviousPage}></lightning-button>

                    <lightning-button
                        class="slds-m-left_large"
                        data-id="link_content" data-intent="navigational" data-scope={adobeDataScopeApp}
                        data-text={adobeDataTextContinue} variant="brand" label="Confirm" title="confirm"
                        onclick={customShowModalPopup}>
                    </lightning-button>
                </div>
            </form>
        </div>
        <template if:true={isModalPopUpOpen}>
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header modalpop_heading slds-theme--shade">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                            title="Close" onclick={closeModal}>
                            <lightning-icon class="close_icon" icon-name="utility:close" alternative-text="close"
                                variant="inverse" size="small"></lightning-icon>
                        </button>
                        <h2 id="modal-heading-01"
                            class="card-title slds-text-align_center heading_medium">
                            {label.AOB_ZA_Removeproduct}</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium body_center" id="modal-content-id-1">
                        <p><b>{label.AOB_ZA_Areyou}</b></p>
                    </div>
                    <footer class="slds-theme--shade button-container" style="border:none;">
                        <lightning-button class="" variant="neutral" onclick={closeModal} label={label.AOB_YesRemoveIt}
                            title="Cancel">{label.AOB_YesRemoveIt}</lightning-button>
                        <lightning-button class="slds-m-left_medium" variant="brand" onclick={keepPopup} label={label.AOB_ZA_NOKEEP}
                            title="OK">{label.AOB_ZA_NOKEEP}</lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
    </template>
<template if:true={customFormModal}>
    <c-aob_internal_comp_contracts application-id={applicationId} businessmarketlink={isBusinessMarketLink} pckbiz={isPocketBiz}
        snapscan={isSnapScan} onclosepopwindow={handleClosepopup} close-popup={customFormModal}>
    </c-aob_internal_comp_contracts>
</template>
<c-aob_comp_error if:true={failing} content={errorMessage}></c-aob_comp_error>
</template>