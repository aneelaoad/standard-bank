<template>
    <div class="TileHolder">
        <template lwc:if={requiresmfa}>
            <template lwc:if={valuereceived}>
                <template lwc:if={hasdevices}>
                    <div onclick={goToRedirect}>
                        <div class="MainTile">
                            <div class="TileWrapper">
                                <div class="TileDeleteHolder">
                                    <div class="DeleteIconHolder">
                                        <i class="msClass ms-icn_bin deleteIcon" 
                                            disabled={disabled} data-id="Application | Delete solution"
                                            data-text={deleteValue} data-intent="transactional" data-scope='My Applications'>
                                        </i>
                                    </div>
                                </div>
                                <div class="TileRedirectHolder">
                                    <div class="TileImage">
                                        <template lwc:if={thirdParty}>
                                            <img src={iconImage} class="logoHeight">
                                        </template>
                                        <template lwc:else>
                                            <img src={SBlogo}></img>
                                        </template>
                                    </div>
                                    <div class="TileTitle">
                                        <template lwc:if={solTM}>
                                            <div class="yourSolution--tile__app__title_3rd">{title}<sup
                                                    class="tmClass">TM</sup></div>
                                        </template>
                                        <template lwc:else>
                                            <div class="yourSolution--tile__app__title_3rd">{title}</div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
                <template lwc:else>
                    <div onclick={stepUpPerformance}>
                        <div class="MainTile">
                            <div class="TileWrapper">
                                <div class="TileDeleteHolder">
                                    <div class="DeleteIconHolder">
                                        <i class="msClass ms-icn_bin deleteIcon"
                                            disabled={disabled} data-id="Application | Delete solution"
                                            data-text={deleteValue} data-intent="transactional" data-scope='My Applications'>
                                        </i>
                                    </div>
                                </div>
                                <div class="TileRedirectHolder">
                                    <div class="TileImage">
                                        <template lwc:if={thirdParty}>
                                            <img src={iconImage} class="logoHeight">
                                        </template>
                                        <template lwc:else>
                                            <img src={SBlogo}></img>
                                        </template>
                                    </div>
                                    <div class="TileTitle">
                                        <template lwc:if={solTM}>
                                            <div class="yourSolution--tile__app__title_3rd">{title}<sup
                                                    class="tmClass">TM</sup></div>
                                        </template>
                                        <template lwc:else>
                                            <div class="yourSolution--tile__app__title_3rd">{title}</div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="MFAHoverSection" data-id="My Applications | MFA Required"
                            data-text={mfarequiredtileValue} data-intent="informational" data-scope='My Applications'>
                            <div class="MFAHoverText">
                                <div>
                                    This application requires multi-factor authentication.
                                </div>
                                <div>
                                    Click to link a device using OneHub Authenticator.
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </template>
            <template lwc:else>
                <div class="unavailableClass">
                    <div class="MainTile">
                        <div class="TileWrapper">
                            <div class="TileDeleteHolder">
                                <div class="DeleteIconHolder">
                                    <i class="msClass ms-icn_bin deleteIcon" onclick={removeSolutionAsFavourite}
                                        disabled={disabled} data-id="Application | Delete solution"
                                        data-text={deleteValue} data-intent="transactional" data-scope='My Applications'>
                                    </i>
                                </div>
                            </div>
                            <div class="TileRedirectHolder">
                                <div class="TileImage">
                                    <template lwc:if={thirdParty}>
                                        <img src={iconImage} class="logoHeight">
                                    </template>
                                    <template lwc:else>
                                        <img src={SBlogo}></img>
                                    </template>
                                </div>
                                <div class="TileTitle">
                                    <template lwc:if={solTM}>
                                        <div class="yourSolution--tile__app__title_3rd">{title}<sup
                                                class="tmClass">TM</sup></div>
                                    </template>
                                    <template lwc:else>
                                        <div class="yourSolution--tile__app__title_3rd">{title}</div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </template>
        <template lwc:else>
            <div onclick={goToRedirect}>
                <div class="MainTile">
                    <div class="TileWrapper">
                        <div class="TileDeleteHolder">
                            <div class="DeleteIconHolder">
                                <i class="msClass ms-icn_bin deleteIcon" 
                                    disabled={disabled} data-id={deleteValue} data-text="Application | Delete solution"
                                    data-intent="transactional" data-scope='My Applications'>
                                </i>
                            </div>
                        </div>
                        <div class="TileRedirectHolder">
                            <div class="TileImage">
                                <template lwc:if={thirdParty}>
                                    <img src={iconImage} class="logoHeight">
                                </template>
                                <template lwc:else>
                                    <img src={SBlogo}></img>
                                </template>
                            </div>
                            <div class="TileTitle">
                                <template lwc:if={solTM}>
                                    <div class="yourSolution--tile__app__title_3rd">{title}<sup class="tmClass">TM</sup>
                                    </div>
                                </template>
                                <template lwc:else>
                                    <div class="yourSolution--tile__app__title_3rd">{title}</div>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    </div>
    <template lwc:if={deviceNotRegistered}>
        <c-osb-new-device-modal-lwc onmfadeviceregistered={handleMFAUpdate}
            onupdatedeviceregistered={handleDeviceRegisteration} indashboard={dashboardValue}></c-osb-new-device-modal-lwc>
    </template>
    <template lwc:if={showPopUp}>
        <div>
            <c-osb-market-gram-popup-lwc
                onclosepopupevent={handleCloseEvent}
                title="Remove Application"
                content="Are you sure you want to remove this application from your dashboard? Any related shortcuts will also be removed."
            ></c-osb-market-gram-popup-lwc>
        </div>
    </template>
</template>